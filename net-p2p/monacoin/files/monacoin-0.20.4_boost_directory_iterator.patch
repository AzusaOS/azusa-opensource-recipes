diff '--color=auto' -bBrU3 monacoin-0.20.4.orig/src/wallet/walletutil.cpp monacoin-0.20.4/src/wallet/walletutil.cpp
--- monacoin-0.20.4.orig/src/wallet/walletutil.cpp	2024-11-20 12:23:57.437235539 +0900
+++ monacoin-0.20.4/src/wallet/walletutil.cpp	2024-11-20 12:24:30.400887443 +0900
@@ -74,7 +74,7 @@
         if (it->status().type() == fs::directory_file && IsBerkeleyBtree(it->path() / "wallet.dat")) {
             // Found a directory which contains wallet.dat btree file, add it as a wallet.
             paths.emplace_back(path);
-        } else if (it.level() == 0 && it->symlink_status().type() == fs::regular_file && IsBerkeleyBtree(it->path())) {
+        } else if (it.depth() == 0 && it->symlink_status().type() == fs::regular_file && IsBerkeleyBtree(it->path())) {
             if (it->path().filename() == "wallet.dat") {
                 // Found top-level wallet.dat btree file, add top level directory ""
                 // as a wallet.
